<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; frame-src https://play.gamepix.com https://games.gamepix.com; connect-src 'self' https:;">
    <title>FruitSlash.online - Play Free HTML5 Games</title>
    <meta name="description" content="Play the best free HTML5 games online. No downloads required! Enjoy puzzle, action, arcade games and more.">
    <meta name="keywords" content="HTML5 games, free games, online games, browser games, arcade games">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://fruitslash.online/">
    <link rel="canonical" href="https://fruitslash.online/">

    <meta property="og:title" content="FruitSlash.online - Play Free HTML5 Games">
    <meta property="og:description" content="Play the best free HTML5 games online. No downloads required!">
    <meta property="og:image" content="https://fruitslash.online/game-intro.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://fruitslash.online/">
    <meta property="twitter:title" content="FruitSlash.online - Play Free HTML5 Games">
    <meta property="twitter:description" content="Play the best free HTML5 games online. No downloads required!">
    <meta property="twitter:image" content="https://fruitslash.online/game-intro.jpg">

    <!-- Favicon --> 
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    
    <!-- Preconnect for external assets -->
    <link rel="preconnect" href="https://play.gamepix.com" crossorigin>
    <link rel="preconnect" href="https://games.gamepix.com" crossorigin>
    <link rel="preconnect" href="https://img.gamepix.com" crossorigin>

    <!-- Preload critical resources -->
    <link rel="preload" href="logo.png" as="image">
    <link rel="preload" href="game-intro.jpg" as="image">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "FruitSlash.online",
        "url": "https://fruitslash.online",
        "description": "Play the best free HTML5 games online. No downloads required!",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://fruitslash.online/search.html?q={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }
    </script>
    
    <style>
        :root {
            --color-primary: #2563eb;
            --color-primary-strong: #1d4ed8;
            --focus-ring: 0 0 0 3px rgba(37,99,235,0.3);
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: var(--color-bg);
            color: #333;
            line-height: 1.6;
            padding-top: 0;
        }

        .header {
            background: #2d3748;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            z-index: 10;
            width: 100%;
        }

        .nav {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            align-items: center;
            padding: 1rem 2rem;
            background: transparent;
            backdrop-filter: none;
            border-radius: 0;
            margin-top: 0;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: white;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-shadow: 0 0 3px rgba(99,102,241,0.35), 0 0 8px rgba(59,130,246,0.25);
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
            justify-self: center;
        }

        .nav-links a {
            text-decoration: none;
            color: white;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: #a0aec0;
        }

        .search-container {
            position: relative;
            justify-self: end;
        }

        .search-input {
            padding: 0.9rem 2.75rem 0.9rem 1rem;
            border: 2px solid #a5b4fc;
            border-radius: 16px;
            outline: none;
            width: 360px;
            font-size: 1rem;
            background: rgba(255, 255, 255, 0.08);
            color: #eef2ff;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.35) inset, 0 0 0 3px rgba(59, 130, 246, 0.35);
            transition: box-shadow 0.2s ease, border-color 0.2s ease, background 0.2s ease;
        }

        .search-input:focus {
            border-color: #c7d2fe;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.45) inset, 0 0 0 3px rgba(99, 102, 241, 0.45);
            background: rgba(255, 255, 255, 0.06);
        }

        .search-input::placeholder {
            color: #cbd5e1;
        }

        .search-btn {
            position: absolute;
            right: 0.6rem;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #cbd5e1;
            cursor: pointer;
            font-size: 1.2rem;
        }

        a:focus-visible, button:focus-visible, input:focus-visible {
            outline: none;
            box-shadow: var(--focus-ring);
            border-radius: 6px;
        }

        /* 主游戏展示区域 */
        .main-game-section {
            max-width: 100%;
            margin: 0;
            padding: 72px 0 0 0;
        }

        .game-container {
            background: #0b0f1a;
            border-radius: 0;
            overflow: hidden;
            box-shadow: none;
            margin-bottom: 0;
        }

        .game-preview {
            background: #0b0f1a;
            border-radius: 0;
            padding: 0;
            text-align: center;
            position: relative;
            min-height: calc(100vh - 80px);
            width: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            overflow: hidden;
        }


        
        /* 游戏iframe样式 - 初始隐藏 */
        .game-iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 0;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s ease;
            z-index: 1;
        }

        .game-iframe.active {
            opacity: 1;
            visibility: visible;
        }

        /* 移动端游戏iframe优化 */
        @media (max-width: 768px) {
            .game-iframe {
                border-radius: 10px;
            }
            
            .game-iframe.active {
                /* 移动端全屏显示 */
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                z-index: 9999;
                border-radius: 0;
            }
        }

        .game-preview-content {
            transition: all 0.5s ease;
        }

        .game-preview.playing .game-preview-content {
            opacity: 0;
            visibility: hidden;
        }

        /* Ensure no blank space under the game when playing */
        .game-preview.playing {
            padding: 0;
            min-height: 0;
            height: 75vh;
        }


        /* 更多游戏网格 */
        .more-games-section {
            margin-top: 0;
            padding: 3rem 2rem;
            background: #f8f9fa; /* 灰 */
        }

        /* 居中更多游戏网格容器 */
        .more-games-section .games-grid {
            max-width: 1400px;
            margin: 0 auto;
            justify-content: center;
            justify-items: center;
        }

        /* 游戏介绍部分 */
        .game-intro-section {
            margin: 0;
            padding: 3rem 2rem;
            background: white; /* 白 */
        }

        .intro-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 3rem;
        }

        .intro-content {
            flex: 1;
        }

        .intro-title {
            font-size: 2.5rem;
            font-weight: bold;
            color: #4ade80;
            margin-bottom: 1rem;
        }

        .intro-description {
            font-size: 1.1rem;
            color: #6b7280;
            line-height: 1.6;
        }

        .intro-image {
            flex: 1;
            text-align: center;
        }

        .intro-image img {
            max-width: 100%;
            width: 100%;
            height: 400px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        /* 游戏特色部分 */
        .features-section {
            margin: 0;
            padding: 3rem 2rem;
            background: #f8f9fa; /* 灰 */
        }

        .features-grid {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 3rem;
            padding: 3rem 0;
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: 3rem;
            padding: 2rem 0;
            background: transparent;
            border-radius: 15px;
        }

        .feature-item.reverse {
            flex-direction: row-reverse;
        }

        .feature-content {
            flex: 1;
        }

        .feature-title {
            font-size: 2rem;
            font-weight: bold;
            color: #4ade80;
            margin-bottom: 1rem;
        }

        .feature-description {
            font-size: 1.1rem;
            color: #6b7280;
            line-height: 1.6;
        }

        .feature-image {
            flex: 1;
            text-align: center;
        }

        .feature-image img {
            max-width: 100%;
            width: 100%;
            height: 350px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        /* 常见问题部分 */
        .faq-section {
            margin: 0;
            padding: 3rem 2rem;
            background: white; /* 白 */
        }

        .faq-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .faq-list {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .faq-item {
            background: #dcfce7;
            padding: 1.5rem;
            border-radius: 12px;
            border-left: 4px solid #4ade80;
        }

        .faq-question {
            font-size: 1.2rem;
            font-weight: bold;
            color: #166534;
            margin-bottom: 0.5rem;
        }

        .faq-answer {
            font-size: 1rem;
            color: #166534;
            line-height: 1.5;
            margin: 0;
        }

        .section-title {
            font-size: 2rem;
            font-weight: bold;
            text-align: left;
            margin-bottom: 1.25rem;
            color: #1f2937;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.25rem;
            margin-bottom: 3rem;
            justify-items: center;
        }
        .game-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border: none;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            cursor: pointer;
            width: 100%;
            max-width: 300px;
            text-align: left;
        }

        .game-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .game-image {
            width: 100%;
            height: 200px;
            background: #f3f4f6;
            display: block;
            position: relative;
            overflow: hidden;
        }

        .game-image::after { content: none; }

        .game-thumbnail { 
            width: 100%; 
            height: 100%; 
            object-fit: cover; 
            position: absolute; 
            inset: 0; 
        }

        /* 移除所有徽标和覆盖层样式 */

        .card-info { 
            padding: 1rem; 
            text-align: left; 
        }
        .card-title-bottom { 
            font-size: 1rem; 
            font-weight: 600; 
            color: #1f2937; 
            margin: 0; 
            line-height: 1.3; 
            display: -webkit-box; 
            -webkit-line-clamp: 2; 
            -webkit-box-orient: vertical; 
            overflow: hidden; 
            text-overflow: ellipsis; 
        }
        .game-subline { display: none; }

        .card-header, .play-button, .game-rating, .card-category { display: none !important; }

        /* Loading shimmer for thumbnails */
        .game-thumbnail[data-loaded="false"] {
            filter: blur(6px) saturate(0.9);
            background: linear-gradient(90deg, rgba(255,255,255,0.08) 25%, rgba(255,255,255,0.18) 37%, rgba(255,255,255,0.08) 63%);
            background-size: 400% 100%;
            animation: shimmer 1.2s ease-in-out infinite;
        }

        @keyframes shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        .game-emoji {
            position: relative;
            z-index: 1;
            font-size: 2.5rem;
        }

        .card-content {
            padding: 1rem;
        }
        
        .card-header {
            position: absolute;
            top: 0.75rem;
            left: 0.75rem;
            right: 0.75rem;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            z-index: 3;
        }

        .card-title-top {
            background: #2563eb;
            color: white;
            padding: 0.4rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: capitalize;
            max-width: 65%;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .game-rating {
            background: rgba(0, 0, 0, 0.3);
            color: white;
            padding: 0.4rem 0.6rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.3rem;
            flex-shrink: 0;
            backdrop-filter: blur(6px);
        }

        .card-category {
            position: absolute;
            bottom: 0.5rem;
            left: 0.5rem;
            background: rgba(0, 0, 0, 0.2);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.75rem;
            text-transform: capitalize;
            font-weight: 600;
            z-index: 3;
            backdrop-filter: blur(4px);
        }

        .card-info {
            padding: 0.9rem 1rem 1.1rem 1rem;
            text-align: left;
        }

        .card-title-bottom {
            font-size: 1rem;
            font-weight: 700;
            color: #1f2937;
            transition: color 0.25s ease;
            margin: 0 0 .25rem 0;
            line-height: 1.3;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .game-card:hover .card-title-bottom {
            color: #2563eb;
        }

        /* 游戏模态框 */
        .game-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .game-modal.active {
            display: flex;
        }

        @keyframes fadeInUp {
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            width: 100%;
            max-width: 1000px;
            height: 80vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .modal-header {
            padding: 1rem 2rem;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #1f2937;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: #6b7280;
            line-height: 1;
        }

        .game-frame {
            flex: 1;
            border: none;
            width: 100%;
            height: 100%;
        }

        .footer {
            background: #2d3748;
            color: white;
            padding: 3rem 0 2rem 0;
            margin-top: 0;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: grid;
            grid-template-columns: 1fr 200px 200px;
            gap: 3rem;
            align-items: start;
        }

        .footer-brand {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .footer-logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: white;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-shadow: 0 0 3px rgba(99,102,241,0.35), 0 0 8px rgba(59,130,246,0.25);
        }

        .footer-description {
            color: #a0aec0;
            line-height: 1.6;
            max-width: 400px;
        }

        .footer-section h3 {
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .footer-links {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .footer-links a {
            color: #a0aec0;
            text-decoration: none;
            transition: color 0.3s;
            font-size: 0.95rem;
        }

        .footer-links a:hover {
            color: #ffffff;
        }

        .footer-bottom {
            border-top: 1px solid #4a5568;
            margin-top: 2rem;
            padding-top: 2rem;
            text-align: center;
        }

        .footer-bottom p {
            color: #a0aec0;
            font-size: 0.9rem;
        }



        @media (max-width: 768px) {
            .nav {
                display: flex;
                flex-direction: column;
                gap: 1rem;
                padding: 1rem 2rem;
                margin-top: 0.5rem;
                border-radius: 0 0 10px 10px;
            }

            .nav-links {
                gap: 1rem;
            }

            .search-input {
                width: 250px;
            }

            .main-game-section {
                padding: 72px 0 0 0;
                max-width: 100%;
            }

            .game-preview {
                min-height: calc(100vh - 72px);
                padding: 0;
            }

            .game-content {
                padding: 0;
                max-width: 100%;
            }


            .games-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                gap: 1rem;
            }

            .game-image {
                height: 160px;
            }

            .card-header {
                top: 0.5rem;
                left: 0.5rem;
                right: 0.5rem;
            }

            .card-title-top {
                font-size: 0.7rem;
                padding: 0.3rem 0.6rem;
            }

            .game-rating {
                font-size: 0.7rem;
                padding: 0.3rem 0.5rem;
            }

            .card-info {
                padding: 1rem;
            }

            .card-title-bottom {
                font-size: 1rem;
            }


        .footer-content {
            grid-template-columns: 1fr;
            gap: 2rem;
            text-align: center;
        }

        .footer-description {
            max-width: none;
        }

            /* 移动端图片修复 */
        .intro-container {
            flex-direction: column;
            gap: 2rem;
        }
        
        .intro-image img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-radius: 15px;
        }
        
        .feature-item {
            flex-direction: column !important;
            gap: 2rem;
        }
        
        .feature-item.reverse {
            flex-direction: column !important;
        }
        
        .feature-image img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 15px;
        }
        }
            
        @media (max-width: 480px) {
            .games-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 0.75rem;
            }

            .game-image {
                height: 120px;
            }

            .card-title-bottom {
                font-size: 0.9rem;
            }
        }
            
    </style>
</head>
<body>
    <header class="header">
        <nav class="nav">
            <a href="#" class="logo">
                <img src="logo.png" alt="FruitSlash.online Logo" style="width: 3rem; height: 3rem; margin-right: 0.5rem;" loading="lazy">
                FruitSlash.online
            </a>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#games">Games</a></li>
                <li><a href="categories.html">Categories</a></li>
                <li><a href="about.html">About</a></li>
                
               </ul>
            <div class="search-container">
                <input type="text" class="search-input" placeholder="Search games..." id="searchInput">
                <button class="search-btn" id="searchBtn" aria-label="Search games">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                </button>
            </div>
        </nav>
    </header>

    <main class="main-game-section">
        <div class="game-container">
            <div class="game-content">
                <div class="featured-game" id="featuredGame">
                    <div class="game-preview" id="gamePreview">
                        
                        <iframe 
                            class="game-iframe" 
                            id="featuredGameIframe"
                            src=""
                            allowfullscreen
                            sandbox="allow-scripts allow-same-origin allow-forms allow-popups"
                            loading="lazy">
                        </iframe>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 更多游戏部分 -->
        <div class="more-games-section">
            <h2 class="section-title">More Games</h2>
            <div class="games-grid" id="gamesGrid"></div>
        </div>
             
        <!-- 游戏介绍部分 -->
        <div class="game-intro-section">
            <div class="intro-container">
                <div class="intro-content">
                    <h2 class="intro-title">What is Fruit Blaster?</h2>
                    <p class="intro-description">
                        Fruit Blaster is a fast‑paced slice‑and‑match puzzler. Flick through flying fruit, chain juicy combos,
                        and trigger satisfying pops with every cut. Simple to start yet hard to master—perfect for quick
                        sessions or high‑score marathons.
                    </p>
                </div>
                <div class="intro-image">
                    <img src="game-intro.jpg" alt="Fruit Blaster gameplay characters" loading="lazy" />
                </div>
            </div>
        </div>

        <!-- 游戏特色部分 -->
        <div class="features-section">
            <h2 class="section-title">Game Features</h2>
            <div class="features-grid">
                <div class="feature-item">
                    <div class="feature-content">
                        <h3 class="feature-title">100% Free to Play</h3>
                        <p class="feature-description">
                            Jump in instantly—no downloads, accounts, or paywalls. Click Play and enjoy unlimited rounds
                            with every feature unlocked from the start.
                        </p>
                    </div>
                    <div class="feature-image">
                        <img src="free-to-play.jpg" alt="Free to Play features illustration" loading="lazy" />
                    </div>
                </div>

                <div class="feature-item reverse">
                    <div class="feature-content">
                        <h3 class="feature-title">Cross-Platform Gaming</h3>
                        <p class="feature-description">
                            Play anywhere with seamless performance and responsive controls on desktop, tablet, and mobile.
                            Enjoy a consistent experience on every screen.
                        </p>
                    </div>
                    <div class="feature-image">
                        <img src="cross-platform.jpg" alt="Cross-platform gaming devices" loading="lazy" />
                    </div>
                </div>
            </div>
        </div>
        <!-- 常见问题部分 -->
        <div class="faq-section">
            <div class="faq-container">
                <h2 class="section-title">FAQ</h2>
                <div class="faq-list">
                    <div class="faq-item">
                        <h3 class="faq-question">Is Fruit Blaster free?</h3>
                        <p class="faq-answer">Yes—Fruit Blaster is completely free. There are no payments, subscriptions, or in‑game purchases.</p>
                    </div>
                    <div class="faq-item">
                        <h3 class="faq-question">Do I need to download or install the game?</h3>
                        <p class="faq-answer">No. It runs directly in your browser. Click Play and you’re in.</p>
                    </div>
                    <div class="faq-item">
                        <h3 class="faq-question">Can I play on my phone or tablet?</h3>
                        <p class="faq-answer">Absolutely. The game is optimized for touch and small screens as well as desktop.</p>
                    </div>
                    <div class="faq-item">
                        <h3 class="faq-question">Do I need an account to play?</h3>
                        <p class="faq-answer">No account required. We don’t ask for email or personal details—just launch and have fun.</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- 游戏模态框 -->
    <div class="game-modal" id="gameModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">Game Title</h2>
                <button class="close-btn" id="closeModal">&times;</button>
            </div>
            <iframe class="game-frame" id="gameFrame" src=""></iframe>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-brand">
                <a href="#" class="footer-logo">
                    <img src="logo.png" alt="FruitSlash.online Logo" style="width: 3rem; height: 3rem; margin-right: 0.5rem;" loading="lazy">
                    FruitSlash.online
                </a>         
                <p class="footer-description">
                    Your ultimate destination for free online games. Play the best HTML5 games directly in your browser without any downloads. Enjoy endless entertainment with our collection of arcade, puzzle, action, and casual games.
                </p>
            </div>
            
            <div class="footer-section">
                <h3>Quick Links</h3>
                <div class="footer-links">
                    <a href="/">Home</a>
                    <a href="#games">Games</a>
                    <a href="#categories">Categories</a>
                    <a href="about.html">About</a>
                </div>
            </div>
            
            <div class="footer-section">
                <h3>Legal</h3>
                <div class="footer-links">
                    <a href="#privacy">Privacy Policy</a>
                    <a href="#terms">Terms of Service</a>
                    <a href="#contact">Contact</a>
                    <a href="#dmca">DMCA</a>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2025 FruitSlash.online. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // 游戏数据和变量
        let allGames = [];
        let filteredGames = [];
        let currentSearch = '';
        let featuredGameId = 1;

        // 游戏数据 - 移除Body Drop 3D，从Funny Shooter 2开始
const gameData = [
            {
                id: 2,
                title: "Cut Fruit Ninja",
                description: "Become a master of the blade as you slice through flying fruit with precision and speed. Dodge bombs, rack up mega combos, and aim for high scores in thrilling game modes.",
                category: "arcade",
                tags: ["slicing", "fruit", "arcade"],
                gameUrl: "https://play.gamepix.com/cut-fruit-ninja/embed?sid=1",
                thumbnail: "https://img.gamepix.com/games/cut-fruit-ninja/icon/cut-fruit-ninja.png?w=1"
            },
            {
                id: 3,
                title: "Princess Rescue Fruit Connect",
                description: "Embark on a vibrant puzzle quest in Princess Rescue Fruit Connect. Strategically match fruits to clear challenging levels, all while racing against time to save the princess.",
                category: "match-3",
                tags: ["match-3", "fruit", "puzzle"],
                gameUrl: "https://play.gamepix.com/princess-rescue-fruit-connect/embed?sid=1",
                thumbnail: "https://img.gamepix.com/games/princess-rescue-fruit-connect/icon/princess-rescue-fruit-connect.png?w=105"
            },
            {
                id: 4,
                title: "Fruit Fiesta",
                description: "Dive into Fruit Fiesta, a vibrant tile-matching adventure where strategic placement of juicy tiles leads to puzzling triumphs. Test your logic and focus with escalating challenges.",
                category: "block",
                tags: ["block", "fruit", "puzzle"],
                gameUrl: "https://play.gamepix.com/fruit-fiesta/embed?sid=1",
                thumbnail: "https://img.gamepix.com/games/fruit-fiesta/icon/fruit-fiesta.png?w=105"
            },
            {
                id: 5,
                title: "Crazy Fruit Merge",
                description: "Unwind with Crazy Fruit Merge, a vibrant puzzle game where you fuse fruits into bigger and juicier ones. Strategically place and merge to overcome space challenges.",
                category: "puzzle",
                tags: ["puzzle", "fruit", "merge"],
                gameUrl: "https://play.gamepix.com/crazy-fruit-merge/embed?sid=1",
                thumbnail: "https://img.gamepix.com/games/crazy-fruit-merge/icon/crazy-fruit-merge.png?w=105"
            }
        ];

        // DOM元素
        const gamesGrid = document.getElementById('gamesGrid');
        const gameModal = document.getElementById('gameModal');
        const gameFrame = document.getElementById('gameFrame');
        const modalTitle = document.getElementById('modalTitle');
        const closeModal = document.getElementById('closeModal');
        const searchInput = document.getElementById('searchInput');

        // 初始化
        function init() {
            allGames = gameData;
            filteredGames = [...allGames];
            
                setupFeaturedGame();
                renderGames();
               setupEventListeners();
            }

        // 设置精选游戏 - 直接在首页播放
        function setupFeaturedGame() {
            // 页面加载即播放精选游戏
            playFeaturedGame();
        }

        // 播放精选游戏 - 使用移动端兼容的URL
        function playFeaturedGame() {
            const gamePreview = document.getElementById('gamePreview');
            const previewContent = document.getElementById('previewContent');
            const gameIframe = document.getElementById('featuredGameIframe');
            
            // 直接显示游戏
            if (previewContent) previewContent.style.display = 'none';
            gameIframe.classList.add('active');
            gamePreview.classList.add('playing');
            
            // 检测设备类型并使用不同的URL
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            if (isMobile) {
                gameIframe.src = 'https://games.gamepix.com/games/fruit-blaster/?pub_id=1';
            } else {
                gameIframe.src = 'https://play.gamepix.com/fruit-blaster/embed?sid=1';
            }
            
            console.log('Starting Fruit Blaster in featured area');
        }

        // 设置事件监听器
        function setupEventListeners() {
    // 新的搜索功能 - 跳转到搜索页面
    const searchBtn = document.getElementById('searchBtn');
    
    // 搜索按钮点击事件
    if (searchBtn) {
        searchBtn.addEventListener('click', () => {
            const searchTerm = searchInput.value.trim();
            if (searchTerm) {
                window.location.href = `search.html?q=${encodeURIComponent(searchTerm)}`;
            }
        });
    }

    // 搜索框回车事件
    searchInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            const searchTerm = searchInput.value.trim();
            if (searchTerm) {
                window.location.href = `search.html?q=${encodeURIComponent(searchTerm)}`;
            }
        }
    });

    // 保持原有的模态框事件
    closeModal.addEventListener('click', closeGameModal);
    gameModal.addEventListener('click', (e) => {
        if (e.target === gameModal) closeGameModal();
    });

    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && gameModal.classList.contains('active')) {
            closeGameModal();
        }
    });
}
        // 过滤游戏 - 只基于搜索
        function filterGames() {
            filteredGames = allGames.filter(game => {
                const matchesSearch = !currentSearch || 
                    game.title.toLowerCase().includes(currentSearch) ||
                    game.description.toLowerCase().includes(currentSearch) ||
                    game.tags.some(tag => tag.toLowerCase().includes(currentSearch));
                
                return matchesSearch;
            });

            renderGames();
        }
        function renderGames() {
            if (filteredGames.length === 0) {
                gamesGrid.style.display = 'none';
                return;
            }

            gamesGrid.style.display = 'grid';

            gamesGrid.innerHTML = '';
            
            for (var i = 0; i < filteredGames.length; i++) {
                var game = filteredGames[i];
                
                // 判断是否为图片URL
                var thumbnailContent = '';
                if (game.thumbnail && game.thumbnail.startsWith('http')) {
                    var baseThumb = game.thumbnail.replace(/w=\d+/, 'w=512');
                    var src1x = baseThumb;
                    var src2x = baseThumb.replace(/w=512/, 'w=1024');
                    thumbnailContent = '<img src="' + src1x + '" srcset="' + src1x + ' 1x, ' + src2x + ' 2x" sizes="(max-width: 480px) 160px, (max-width: 768px) 220px, 320px" alt="' + game.title + ' thumbnail" class="game-thumbnail" loading="lazy" decoding="async" data-loaded="false" onload="this.setAttribute(\'data-loaded\', \'true\')" onerror="this.style.display=\'none\'">';
                } else {
                    thumbnailContent = '<div class="game-emoji" aria-hidden="true">' + (game.thumbnail || '🎮') + '</div>';
                }
                
                var gameCard = '<div class="game-card" onclick="openGame(' + game.id + ')">' +
                    '<div class="game-image">' +
                        thumbnailContent +
                    '</div>' +
                    '<div class="card-info">' +
                        '<h3 class="card-title-bottom">' + game.title + '</h3>' +
                    '</div>' +
                '</div>';
                
                gamesGrid.innerHTML += gameCard;
            }
        }
            
        // 打开游戏 - 修复路径问题并添加错误处理
        function openGame(gameId) {
            try {
                console.log(`Opening game with ID: ${gameId}`);
                
                // 验证游戏ID是否有效
                const game = gameData.find(g => g.id === gameId);
                if (!game) {
                    console.error(`Game with ID ${gameId} not found`);
                    alert('游戏不存在，请稍后再试！');
                    return;
                }
                
                // 检查当前页面路径，确保正确跳转
                const currentPath = window.location.pathname;
                let targetPath;
                
                if (currentPath === '/' || currentPath === '/index.html' || currentPath.endsWith('/')) {
                    // 从首页或根目录跳转
                    targetPath = "game.html?id=" + gameId;
                } else {
                    // 从其他页面跳转，使用相对路径
                    targetPath = "./game.html?id=" + gameId;
                }
                
                console.log(`Navigating from ${currentPath} to game ${gameId} at path: ${targetPath}`);
                
                // 添加延迟以防止重复点击
                setTimeout(() => {
                    window.location.href = targetPath;
                }, 100);
                
            } catch (error) {
                console.error('Error opening game:', error);
                alert('打开游戏时出现错误，请刷新页面后重试！');
            }
        }

        // 关闭游戏模态框
        function closeGameModal() {
            gameModal.classList.remove('active');
            gameFrame.src = '';
            document.body.style.overflow = 'auto';
        }

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', init);

        // 添加防抖功能，避免重复点击
        let clickTimeout = null;
        document.addEventListener('click', function(e) {
            if (e.target.closest('.game-card')) {
                if (clickTimeout) {
                    clearTimeout(clickTimeout);
                }
                clickTimeout = setTimeout(() => {
                    clickTimeout = null;
                }, 500);
            }
        });

        // 添加错误处理
        window.addEventListener('error', function(e) {
            console.error('Page error:', e.error);
        });

        // 添加页面卸载前的清理
        window.addEventListener('beforeunload', function() {
            // 清理任何活动的定时器
            if (clickTimeout) {
                clearTimeout(clickTimeout);
            }
        });
        
        
        function initializeSearch() {
            const searchBtn = document.getElementById('searchBtn');
            const searchInput = document.getElementById('searchInput');
            
            // 从URL获取搜索参数
            const urlParams = new URLSearchParams(window.location.search);
            const searchFromURL = urlParams.get('search');
            
            if (searchFromURL && searchInput) {
                searchInput.value = searchFromURL;
                currentSearch = searchFromURL.toLowerCase();
                filterGames();
            }
            
            // 搜索按钮点击事件
            if (searchBtn && searchInput) {
                searchBtn.addEventListener('click', () => {
                    const searchTerm = searchInput.value.toLowerCase().trim();
                    currentSearch = searchTerm;
                    filterGames();
                    updateURL(searchTerm);
                });
            }
            
            // 回车搜索
            if (searchInput) {
                searchInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        const searchTerm = searchInput.value.toLowerCase().trim();
                        currentSearch = searchTerm;
                        filterGames();
                        updateURL(searchTerm);
                    }
                });
            }
        }

        // 更新URL参数
        function updateURL(searchTerm) {
            const url = new URL(window.location);
            if (searchTerm) {
                url.searchParams.set('search', searchTerm);
            } else {
                url.searchParams.delete('search');
            }
            window.history.replaceState({}, '', url);
        }

        // 清除搜索功能
        function clearSearch() {
            const searchInput = document.getElementById('searchInput');
            if (searchInput) {
                searchInput.value = '';
            }
            currentSearch = '';
            filterGames();
            updateURL('');
        }
        
    </script>
</body>
</html>
